**Основные задачи:**

- [/api/v1/shifts/add_shift_task] Эндпойнт добавления сменных заданий
- [/api/v1/shifts/get_task] Эндпойнт получения сменного задания по ID
- [/api/v1/shifts/update_task] Эндпойнт изменения сменного задания по ID
- [/api/v1/shifts/] Эндпойнт получения списка сменных заданий по фильтрам
- [/api/v1/shifts/aggregate] Эндпойнт "аггрегации" продукции

**Задачи "со звездочкой":**

- [Выполнено] docker

## Запуск проекта
*Содержание: Docker, Alembic
- Первым делом нужно выполнить комманду `docker-compose up --build` из корневой дириктории проекта `shift_task/` для поднятия контейнеров.
- С помощью комманды `docker-compose exec fastapi sh` зайти на образ и выполнить комманды:
  1. Выполнить миграции через `alembic` чтобы подготовить модели для PostgreSQL - `alembic revision --autogenerate -m "Database creation"`
  2. Выполнить комманду для добавления моделей в базу данных - `alembic upgrade hash_id`(Вместо 'hash' подставить хэшированный id миграции). К примеру после комманды в п.1 вы получите ответ, что создан файл миграции `9jfjmfan46_database_creation`. Вам нужно скопировать только `9jfjmfan46` и выполнить команду `alembic upgrade 9jfjmfan46`
  3. Теперь вы можете перейти в документацию FastAPI и `http://host:8000/docs`(где 'host' это ip-адрес хoста на котором поднимается `docker-compose` и отправить запросы.

## Структура проекта
- Данные и код которые относятся к созданию подключения к СУБД PostgreSQL находятся в `./database/db.py`
- Обе модели `ShiftTask`(для сменных заданий) и `CodeProduct`(для уникального кода продукта) находятся в файле `./models/model_shift.py`. Модели связаны между собой с помощью `ForeignKey`(many-to-one)
- Настройки для корректной работы миграций `alembic` прописаны в файле `env.py`
- Все модели `Pydantic` находятся в файле `./schemas/schemas_shift.py` 
- Все маршруты подключены в файле `routes/route_shift.py`. Главный роут прописан в `./routes/route_index.py`
- Для каждого маршрута создана отдельная функция. Эти функции я добавил в отдельные файлы в папке `./controllers/`. В каждом файле содержится функция которую возвращает определенный маршрут
- Созданный фильтр для поиска сменных заданий расположен в файле `./filters/shift_task_filter.py`

